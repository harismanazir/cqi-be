{
  "chunks": [
    {
      "content": "const express = require(\"express\");\nconst mysql = require(\"mysql\");\nconst crypto = require(\"crypto\");\nconst app = express();\nconst bodyParser = require(\"body-parser\");\napp.use(bodyParser.json());\n\nconst connection = mysql.createConnection({\n  host: \"localhost\",\n  user: \"root\",\n  password: \"123456\",\n  database: \"usersdb\"\n});\nconnection.connect();\n\nlet sessions = {};\n\napp.post(\"/register\", (req, res) => {\n  const { username, password, email } = req.body;\n  if (!username || !password || !email) {\n    return res.send(\"Missing fields\");",
      "file_path": "C:\\Users\\haris\\AppData\\Local\\Temp\\cqi_upload_yf2ymhbg\\badcode.js",
      "start_line": 1,
      "end_line": 21,
      "language": "javascript",
      "chunk_type": "large_block",
      "embedding": [
        0.0,
        0.0,
        0.05304346648314009,
        0.0,
        0.0,
        0.0,
        0.05304346648314009,
        0.0,
        0.0,
        0.0,
        0.026521733241570044,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.05789028574419721,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.17367085723259162,
        0.0,
        0.0,
        0.0,
        0.19256458242060653,
        0.0,
        0.09628229121030327,
        0.0,
        0.0,
        0.14577819478009724,
        0.0,
        0.0,
        0.0,
        0.0,
        0.14577819478009724,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.14577819478009724,
        0.14577819478009724,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.43733458434029165,
        0.0,
        0.0,
        0.0,
        0.14577819478009724,
        0.0,
        0.0,
        0.14577819478009724,
        0.583112779120389,
        0.0,
        0.0,
        0.0,
        0.14577819478009724,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.14577819478009724,
        0.0,
        0.43733458434029165,
        0.14577819478009724
      ],
      "metadata": {
        "hash": "a188912f5941de8156a592922c361aeb"
      }
    },
    {
      "content": "  }\n  const query = `INSERT INTO users (username, password, email) VALUES ('${username}', '${password}', '${email}')`;\n  connection.query(query, (err) => {\n    if (err) {\n      return res.send(\"DB Error\");\n    }\n    res.send(\"User Registered\");\n  });\n});\n\napp.post(\"/login\", (req, res) => {\n  const { username, password } = req.body;\n  connection.query(\n    `SELECT * FROM users WHERE username='${username}' AND password='${password}'`,\n    (err, results) => {\n      if (err) return res.send(\"DB Error\");",
      "file_path": "C:\\Users\\haris\\AppData\\Local\\Temp\\cqi_upload_yf2ymhbg\\badcode.js",
      "start_line": 22,
      "end_line": 37,
      "language": "javascript",
      "chunk_type": "large_block",
      "embedding": [
        0.0,
        0.0,
        0.10542688344593565,
        0.0,
        0.0,
        0.0,
        0.2635672086148391,
        0.0,
        0.0,
        0.0,
        0.052713441722967824,
        0.0,
        0.0,
        0.11506021028518743,
        0.0,
        0.11506021028518743,
        0.11506021028518743,
        0.0,
        0.0,
        0.0,
        0.0,
        0.23012042057037485,
        0.5753010514259371,
        0.0,
        0.0,
        0.0,
        0.19136648802096484,
        0.0,
        0.19136648802096484,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.2897423899496698,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.2897423899496698,
        0.0,
        0.0,
        0.2897423899496698,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.2897423899496698,
        0.0,
        0.0,
        0.0,
        0.0,
        0.2897423899496698,
        0.0,
        0.0,
        0.0,
        0.0
      ],
      "metadata": {
        "hash": "26638ed2a84c7e247824a6c4dedbe75a"
      }
    },
    {
      "content": "      if (results.length === 0) {\n        return res.send(\"Invalid Credentials\");\n      }\n      const token = crypto.randomBytes(16).toString(\"hex\");\n      sessions[token] = username;\n      res.send({ token });\n    }\n  );\n});\n\napp.get(\"/profile\", (req, res) => {\n  const token = req.query.token;\n  if (!sessions[token]) {\n    return res.send(\"Unauthorized\");\n  }\n  connection.query(\"SELECT * FROM users\", (err, results) => {\n    if (err) return res.send(\"DB Error\");\n    const user = results.find((u) => u.username === sessions[token]);",
      "file_path": "C:\\Users\\haris\\AppData\\Local\\Temp\\cqi_upload_yf2ymhbg\\badcode.js",
      "start_line": 38,
      "end_line": 55,
      "language": "javascript",
      "chunk_type": "large_block",
      "embedding": [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.11117767553535016,
        0.0,
        0.0,
        0.0,
        0.05558883776767508,
        0.0,
        0.0,
        0.0,
        0.0,
        0.12133647802152574,
        0.12133647802152574,
        0.12133647802152574,
        0.8493553461506802,
        0.12133647802152574,
        0.12133647802152574,
        0.12133647802152574,
        0.0,
        0.2018050863131581,
        0.0,
        0.0,
        0.0,
        0.2018050863131581,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.3055471656352291,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ],
      "metadata": {
        "hash": "f87178dcc9728c9d45b519ffbbe85fa0"
      }
    },
    {
      "content": "    if (!user) {\n      return res.send(\"Not Found\");\n    }\n    res.send(user);\n  });\n});\n\napp.get(\"/heavy\", (req, res) => {\n  let result = 0;\n  for (let i = 0; i < 5e8; i++) {\n    result += Math.sqrt(i);\n  }\n  res.send({ result });\n});\n\napp.get(\"/chain\", (req, res) => {\n  connection.query(\"SELECT * FROM users\", (err, data) => {\n    if (err) res.send(\"DB Error\");\n    data.forEach((user) => {\n      connection.query(\n        `UPDATE users SET lastActive=NOW() WHERE id=${user.id}`,\n        () => {}\n      );",
      "file_path": "C:\\Users\\haris\\AppData\\Local\\Temp\\cqi_upload_yf2ymhbg\\badcode.js",
      "start_line": 56,
      "end_line": 78,
      "language": "javascript",
      "chunk_type": "large_block",
      "embedding": [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.2130625720358391,
        0.0,
        0.0,
        0.0,
        0.0,
        0.28408342938111875,
        0.0,
        0.0,
        0.15502070275979896,
        0.0,
        0.15502070275979896,
        0.15502070275979896,
        0.0,
        0.0,
        0.3100414055195979,
        0.0,
        0.3100414055195979,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.39037012706628005,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.39037012706628005,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.39037012706628005,
        0.0,
        0.0,
        0.39037012706628005,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ],
      "metadata": {
        "hash": "82bd1bdc40942fffc5e75aacef381e25"
      }
    },
    {
      "content": "    });\n    res.send(\"Updated\");\n  });\n});\n\napp.listen(3000, () => {\n  console.log(\"Server running on 3000\");\n});\n",
      "file_path": "C:\\Users\\haris\\AppData\\Local\\Temp\\cqi_upload_yf2ymhbg\\badcode.js",
      "start_line": 79,
      "end_line": 87,
      "language": "javascript",
      "chunk_type": "block",
      "embedding": [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.09059200626414501,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.4979440451499137,
        0.0,
        0.0,
        0.4979440451499137,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.4979440451499137,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.4979440451499137,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ],
      "metadata": {
        "hash": "a64b49bcc7453fbca960a3524984e55a"
      }
    },
    {
      "content": "const express = require(\"express\");\nconst mysql = require(\"mysql\");\nconst crypto = require(\"crypto\");\nconst app = express();\nconst bodyParser = require(\"body-parser\");\napp.use(bodyParser.json());\n\nconst connection = mysql.createConnection({\n  host: \"localhost\",\n  user: \"root\",\n  password: \"123456\",\n  database: \"usersdb\"\n});\nconnection.connect();\n\nlet sessions = {};\n\napp.post(\"/register\", (req, res) => {\n  const { username, password, email } = req.body;\n  if (!username || !password || !email) {\n    return res.send(\"Missing fields\");\n  }\n  const query = `INSERT INTO users (username, password, email) VALUES ('${username}', '${password}', '${email}')`;\n  connection.query(query, (err) => {\n    if (err) {\n      return res.send(\"DB Error\");\n    }\n    res.send(\"User Registered\");\n  });\n});\n\napp.post(\"/login\", (req, res) => {\n  const { username, password } = req.body;\n  connection.query(\n    `SELECT * FROM users WHERE username='${username}' AND password='${password}'`,\n    (err, results) => {\n      if (err) return res.send(\"DB Error\");\n      if (results.length === 0) {\n        return res.send(\"Invalid Credentials\");\n      }\n      const token = crypto.randomBytes(16).toString(\"hex\");\n      sessions[token] = username;\n      res.send({ token });\n    }\n  );\n});\n\napp.get(\"/profile\", (req, res) => {\n  const token = req.query.token;\n  if (!sessions[token]) {",
      "file_path": "C:\\Users\\haris\\AppData\\Local\\Temp\\cqi_upload_yf2ymhbg\\badcode.js",
      "start_line": 1,
      "end_line": 50,
      "language": "javascript",
      "chunk_type": "sliding_window",
      "embedding": [
        0.0,
        0.0,
        0.08343417283988722,
        0.0,
        0.0,
        0.0,
        0.16686834567977443,
        0.0,
        0.0,
        0.0,
        0.04171708641994361,
        0.0,
        0.0,
        0.04552896357242261,
        0.0,
        0.04552896357242261,
        0.0,
        0.04552896357242261,
        0.27317378143453563,
        0.04552896357242261,
        0.04552896357242261,
        0.09105792714484522,
        0.36423170857938086,
        0.07572311783972648,
        0.0,
        0.0,
        0.22716935351917947,
        0.0,
        0.15144623567945295,
        0.0,
        0.0,
        0.114650153034732,
        0.0,
        0.114650153034732,
        0.0,
        0.0,
        0.114650153034732,
        0.0,
        0.114650153034732,
        0.0,
        0.0,
        0.0,
        0.0,
        0.114650153034732,
        0.114650153034732,
        0.0,
        0.114650153034732,
        0.0,
        0.0,
        0.0,
        0.114650153034732,
        0.34395045910419597,
        0.0,
        0.114650153034732,
        0.0,
        0.114650153034732,
        0.0,
        0.0,
        0.114650153034732,
        0.458600612138928,
        0.0,
        0.0,
        0.0,
        0.114650153034732,
        0.114650153034732,
        0.0,
        0.0,
        0.0,
        0.0,
        0.114650153034732,
        0.114650153034732,
        0.0,
        0.34395045910419597,
        0.114650153034732
      ],
      "metadata": {
        "hash": "af656d6796a29954e6123abd01429f33"
      }
    },
    {
      "content": "      const token = crypto.randomBytes(16).toString(\"hex\");\n      sessions[token] = username;\n      res.send({ token });\n    }\n  );\n});\n\napp.get(\"/profile\", (req, res) => {\n  const token = req.query.token;\n  if (!sessions[token]) {\n    return res.send(\"Unauthorized\");\n  }\n  connection.query(\"SELECT * FROM users\", (err, results) => {\n    if (err) return res.send(\"DB Error\");\n    const user = results.find((u) => u.username === sessions[token]);\n    if (!user) {\n      return res.send(\"Not Found\");\n    }\n    res.send(user);\n  });\n});\n\napp.get(\"/heavy\", (req, res) => {\n  let result = 0;\n  for (let i = 0; i < 5e8; i++) {\n    result += Math.sqrt(i);\n  }\n  res.send({ result });\n});\n\napp.get(\"/chain\", (req, res) => {\n  connection.query(\"SELECT * FROM users\", (err, data) => {\n    if (err) res.send(\"DB Error\");\n    data.forEach((user) => {\n      connection.query(\n        `UPDATE users SET lastActive=NOW() WHERE id=${user.id}`,\n        () => {}\n      );\n    });\n    res.send(\"Updated\");\n  });\n});\n\napp.listen(3000, () => {\n  console.log(\"Server running on 3000\");\n});\n",
      "file_path": "C:\\Users\\haris\\AppData\\Local\\Temp\\cqi_upload_yf2ymhbg\\badcode.js",
      "start_line": 41,
      "end_line": 87,
      "language": "javascript",
      "chunk_type": "sliding_window",
      "embedding": [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.11501905300903509,
        0.07667936867269005,
        0.0,
        0.0,
        0.03833968433634503,
        0.19169842168172513,
        0.0,
        0.0,
        0.08368590624742837,
        0.0,
        0.16737181249485675,
        0.0,
        0.0,
        0.5858013437319987,
        0.25105771874228516,
        0.0,
        0.25105771874228516,
        0.0,
        0.13918519647868036,
        0.0,
        0.0,
        0.0,
        0.13918519647868036,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.21073622602578757,
        0.0,
        0.0,
        0.21073622602578757,
        0.0,
        0.0,
        0.21073622602578757,
        0.21073622602578757,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.21073622602578757,
        0.0,
        0.21073622602578757,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.21073622602578757,
        0.0,
        0.21073622602578757,
        0.0,
        0.0,
        0.21073622602578757,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ],
      "metadata": {
        "hash": "157337e2459af1d85d441d11840d5ce8"
      }
    },
    {
      "content": "  });\n});\n\napp.listen(3000, () => {\n  console.log(\"Server running on 3000\");\n});\n",
      "file_path": "C:\\Users\\haris\\AppData\\Local\\Temp\\cqi_upload_yf2ymhbg\\badcode.js",
      "start_line": 81,
      "end_line": 87,
      "language": "javascript",
      "chunk_type": "sliding_window",
      "embedding": [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.08109453458993827,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.44574065923127126,
        0.0,
        0.0,
        0.44574065923127126,
        0.44574065923127126,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.44574065923127126,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.44574065923127126,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ],
      "metadata": {
        "hash": "076a47ecbe2dba724aa43cd40216f6ee"
      }
    }
  ],
  "embedding_method": "tfidf",
  "version": "2.0",
  "timestamp": 1757698400.709741
}